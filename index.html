<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="styles.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test MathJax Correction</title>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</head>
<body>

    <div class="exercise-box">
        <h3>Exercice : Somme de Riemann</h3>
        <p>Calculez la somme de Riemann pour la fonction \( f(x) = x^2 \) sur l'intervalle [0,1].</p>
        
        <details class="exercise-correction">
            <summary>Corrigé</summary>
            <div id="correction-content">
                <p>Correction : </p>
                <p>La somme de Riemann est définie par : 
                    $$ \sum_{i=1}^n \frac{f(x_i)}{n} $$.
                    En prenant la limite lorsque \( n \to \infty \), nous obtenons :
                    $$ \lim_{n \to \infty} \sum_{i=1}^n \frac{f(x_i)}{n} = \int_0^1 x^2 \, dx = \frac{1}{3}. $$</p>
            </div>
        </details>
    </div>

    <script>
        // Lorsque le détail est ouvert, forcer MathJax à mettre à jour le contenu
        document.querySelectorAll('.exercise-box details').forEach((details) => {
            details.addEventListener('toggle', function() {
                if (details.open) {
                    // Forcer le rendu des formules de MathJax
                    MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
                }
            });
        });
    </script>

</body>
</html>
